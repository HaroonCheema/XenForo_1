{
    "template": "page_edit",
    "description": "Append node icon editor",
    "execution_order": 10,
    "enabled": true,
    "action": "str_replace",
    "find": "<xf:macro template=\"node_edit_macros\" name=\"description\" arg-node=\"{$node}\" />",
    "replace": "$0\n\n<xf:if is=\"$xf.visitor.canEditIcon()\">\n\t<xf:uploadrow name=\"upload\" accept=\".gif,.jpeg,.jpg,.jpe,.png\"\n\t\t\t\t  label=\"{{ phrase('icon') }}\"\n\t\t\t\t  explain=\"{{ phrase('it_is_recommended_that_you_use_image_that_is_at_least_x_pixels', {\n\t\t\t\t\t\t   'width': $xf.options.Fs_NodeIcon_nodeDimensions.width,\n\t\t\t\t\t\t   'height': $xf.options.Fs_NodeIcon_nodeDimensions.height\n\t\t\t\t\t\t   }) }}\" />\n</xf:if>\n\n<xf:if is=\"!$page.isInsert()\">\n\t<xf:if is=\"{$node.getIcon()}\">\n\t\t<xf:formrow label=\"{{ phrase('custom_node_icon') }}\">\n\t\t\t<img src=\"{{ base_url($node.getIcon()) }}\" />\n\t\t\t<br/>\n\t\t\t<xf:button href=\"{{ link('forums/delete-icon', $node) }}\" icon=\"delete\" overlay=\"true\" />\n\t\t</xf:formrow>\n\t<xf:else/>\n\t\t<xf:formrow label=\"{{ phrase('custom_node_icon') }}\">\n\t\t\t{{ phrase('no_icon') }}\n\t\t</xf:formrow>\n\t</xf:if>\n</xf:if>"
}