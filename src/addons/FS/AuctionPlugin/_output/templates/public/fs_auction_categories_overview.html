<xf:title page="{$page}">{{ phrase('fs_auction_category') }}</xf:title>

<xf:page option="searchConstraints" value="{{ {
	phrase('z61_classifieds_listings'): {'search_type': 'classifieds_listing'}
} }}" />

<xf:pageaction if="$xf.visitor.canAddClassified() && $categories is not empty">
	<xf:button href="{{ link('auction/add') }}" class="button--cta" icon="write" overlay="true">{{ phrase('fs_auction_categories_add_listing...') }}</xf:button>
</xf:pageaction>

<xf:form action="{{ link($prefix . '/toggle') }}" class="block" ajax="true">

  <div class="block-container">

  <xf:if is="$data is not empty">
	<div class="block-body">
			<xf:datalist data-xf-init="responsive-data-list">
					
				<xf:macro
					name="table_list"
					arg-data="{$data}"
				  />


				   </xf:datalist>
				
		    
		</div>
       <xf:else />
			<div class="block-body block-row">{{ phrase('no_items_have_been_created_yet') }}</div>
		
       </xf:if>
    
 </div>

</xf:form>
<xf:macro
  name="table_list"
  arg-data="{$data}"
>
  <xf:datarow rowtype="header">
    <xf:cell> {{ phrase('fs_cell_bidding') }} </xf:cell>
    <xf:cell class="dataList-cell--min"></xf:cell>
	 <xf:cell class="dataList-cell--min"></xf:cell>
  </xf:datarow>
  <xf:foreach loop="{$data}" value="$value">
    <xf:datarow>
		
          <xf:cell> {$value.title} </xf:cell>
		
	<xf:action href="{{ link('auction/categories/edit', $value) }}" >{{ phrase('edit') }}</xf:action>
      <xf:delete
        href="{{ link('auction/categories/delete', $value) }}"
        overlay="true"
      />
    </xf:datarow>
  </xf:foreach>
</xf:macro>


<xf:page option="sideNavTitle">{{ phrase('categories') }}</xf:page>
<xf:sidenav>
	<xf:foreach loop="$categories" value="$child">
		<li class="categoryList-item">
		<div class="categoryList-itemRow">
			
			<a href="{{ link('classifieds/categories', $category) }}" class="categoryList-link{{ $isSelected ? ' is-selected' : '' }}">
				{$child.title}
			</a>
			<span class="categoryList-label">
				<span class="label label--subtle label--smallest">{$child.bid_count|number_short}</span>
			</span>
		</div>
	</li>
	</xf:foreach>

</xf:sidenav>

<xf:widgetpos id="classifieds_overview_sidenav" position="sidenav" />