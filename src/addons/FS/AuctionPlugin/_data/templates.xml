<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="admin" title="fs_auction" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('fs_auction') }}</xf:title>

<xf:macro template="section_nav_macros" name="section_nav" arg-section="auction" />]]></template>
  <template type="admin" title="fs_auction_categories_delete" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:macro template="category_tree_macros" name="category_delete_form"
		  arg-linkPrefix="auction/categories"
		  arg-category="{$category}" />]]></template>
  <template type="admin" title="fs_auction_categories_edit" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:if is="$category.isInsert()">
	<xf:title>{{ phrase('add_category') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('edit_category:') }} {$category.title}</xf:title>
</xf:if>

<xf:pageaction if="$category.category_id">
	<xf:button href="{{ link('auction/categories/delete', $category) }}"
		icon="delete"
		data-xf-click="overlay" />
</xf:pageaction>

<xf:form action="{{ link('auction/categories/save', $category) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:textboxrow name="title" value="{$category.title}"
				label="{{ phrase('title') }}" />

			<xf:textarearow name="description" value="{$category.description}" rows="2" autosize="true"
				label="{{ phrase('description') }}"
				hint="{{ phrase('you_may_use_html') }}" />

			<xf:macro template="category_tree_macros" name="parent_category_select_row"
				arg-category="{$category}"
				arg-categoryTree="{$categoryTree}" />

			<xf:macro template="display_order_macros" name="row"
					  arg-value="{$category.display_order}" />
			
			<xf:submitrow sticky="true" icon="save" />
		</div>
	</div>
</xf:form>]]></template>
  <template type="admin" title="fs_auction_categories_list" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('fs_auction_categories') }}</xf:title>

<xf:macro template="category_tree_macros" name="page_action"
	arg-linkPrefix="auction/categories" />

<xf:macro template="category_tree_macros" name="category_list"
	arg-categoryTree="{$categoryTree}"
	arg-filterKey="auction-categories"
	arg-linkPrefix="auction/categories"
/>]]></template>
  <template type="admin" title="fs_auction_categories_sort" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('sort_categories') }}</xf:title>

<xf:macro template="category_tree_macros" name="sortable_form"
	arg-categoryTree="{$categoryTree}"
	arg-linkPrefix="auction/categories" />]]></template>
  <template type="admin" title="fs_auction_shipping_term_add_edit" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:title>
  <xf:if is="$data.term_id"> {{ phrase('fs_edit_auction') }}
  <xf:else /> {{ phrase('fs_add_auction') }} </xf:if>
</xf:title>
<xf:form
  action="{{ link('ship-terms/save', $data) }}"
  ajax="true"
  class="block"
  data-force-flash-message="true"
>
  <div class="block-container">
    <div class="block-body">
      <xf:textboxrow
        name="shipping_term"
        value="{$data.shipping_term}"
        label="{{ phrase('fs_auction_term_label') }}"
        autosize="true"
      />
    </div>
    <xf:submitrow submit="" icon="save" />
  </div>
</xf:form>]]></template>
  <template type="admin" title="fs_auction_shipping_term_index" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('fs_title_auction') }}</xf:title>

<xf:pageaction>
  <xf:button href="{{ link('ship-terms/add') }}" icon="add">{{ phrase('fs_add_auction') }}</xf:button>
</xf:pageaction>
<xf:form action="{{ link($prefix . '/toggle') }}" class="block" ajax="true">
  <div class="block-outer">
		<xf:macro
		  template="filter_macros"
		  name="quick_filter"
		  arg-key="auction"
		  arg-class="block-outer-opposite"
		/>
  </div>

  <div class="block-container">

  <xf:if is="$data is not empty">
	<div class="block-body">
			<xf:datalist data-xf-init="responsive-data-list">
					
				<xf:macro
					name="table_list"
					arg-data="{$data}"
				  />


				   </xf:datalist>
				<div class="block-footer">
					  <span class="block-footer-counter"
						>{{ display_totals($totalReturn, $total) }}</span
					  >
				</div>
		    
		</div>
       <xf:else />
			<div class="block-body block-row">{{ phrase('no_items_have_been_created_yet') }}</div>
		
       </xf:if>
    
 </div>


   <xf:pagenav
			page="{$page}"
			perpage="{$perPage}"
			total="{$total}"
			link="ship-terms"
			wrapperclass="block"
		  />
</xf:form>
<xf:macro
  name="table_list"
  arg-data="{$data}"
>
  <xf:datarow rowtype="header">
    <xf:cell> {{ phrase('fs_cell_shipping_terms') }} </xf:cell>
    <xf:cell class="dataList-cell--min"></xf:cell>
	 <xf:cell class="dataList-cell--min"></xf:cell>
  </xf:datarow>
  <xf:foreach loop="{$data}" value="$value">
    <xf:datarow>
		
          <xf:cell> {$value.shipping_term} </xf:cell>
		
	<xf:action href="{{ link('ship-terms/edit', $value) }}" >{{ phrase('edit') }}</xf:action>
      <xf:delete
        href="{{ link('ship-terms/delete', $value) }}"
        overlay="true"
      />
    </xf:datarow>
  </xf:foreach>
</xf:macro>]]></template>
  <template type="admin" title="fs_auction_ships_via_add_edit" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:title>
  <xf:if is="$data.ship_via"> {{ phrase('fs_edit_auction_via') }}
  <xf:else /> {{ phrase('fs_add_auction_add') }} </xf:if>
</xf:title>
<xf:form
  action="{{ link('ship-via/save', $data) }}"
  ajax="true"
  class="block"
  data-force-flash-message="true"
>
  <div class="block-container">
    <div class="block-body">
      <xf:textboxrow
        name="ship_via"
        value="{$data.ship_via}"
        label="{{ phrase('fs_auction_via_label') }}"
        autosize="true"
      />
    </div>
    <xf:submitrow submit="" icon="save" />
  </div>
</xf:form>]]></template>
  <template type="admin" title="fs_auction_ships_via_index" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('fs_title_auction_via') }}</xf:title>

<xf:pageaction>
  <xf:button href="{{ link('ship-via/add') }}" icon="add">{{ phrase('fs_add_auction_add') }}</xf:button>
</xf:pageaction>
<xf:form action="{{ link($prefix . '/toggle') }}" class="block" ajax="true">
  <div class="block-outer">
		<xf:macro
		  template="filter_macros"
		  name="quick_filter"
		  arg-key="ship-via"
		  arg-class="block-outer-opposite"
		/>
  </div>

  <div class="block-container">

  <xf:if is="$data is not empty">
	<div class="block-body">
			<xf:datalist data-xf-init="responsive-data-list">
					
				<xf:macro
					name="table_list"
					arg-data="{$data}"
				  />


				   </xf:datalist>
				<div class="block-footer">
					  <span class="block-footer-counter"
						>{{ display_totals($totalReturn, $total) }}</span
					  >
				</div>
		    
		</div>
       <xf:else />
			<div class="block-body block-row">{{ phrase('no_items_have_been_created_yet') }}</div>
		
       </xf:if>
    
 </div>


   <xf:pagenav
			page="{$page}"
			perpage="{$perPage}"
			total="{$total}"
			link="ship-via"
			wrapperclass="block"
		  />
</xf:form>
<xf:macro
  name="table_list"
  arg-data="{$data}"
>
  <xf:datarow rowtype="header">
    <xf:cell> {{ phrase('fs_cell_ship_via') }} </xf:cell>
    <xf:cell class="dataList-cell--min"></xf:cell>
	 <xf:cell class="dataList-cell--min"></xf:cell>
  </xf:datarow>
  <xf:foreach loop="{$data}" value="$value">
    <xf:datarow>
		
          <xf:cell> {$value.ship_via} </xf:cell>
		
	<xf:action href="{{ link('ship-via/edit', $value) }}" >{{ phrase('edit') }}</xf:action>
      <xf:delete
        href="{{ link('ship-via/delete', $value) }}"
        overlay="true"
      />
    </xf:datarow>
  </xf:foreach>
</xf:macro>]]></template>
  <template type="public" title="addEdit_Auction" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:if is="$data.isInsert()">
	<xf:title>{{ phrase('auctionPostThread') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('fs_auction_edit_post') }}</xf:title>
</xf:if>

<xf:js prod="xf/attachment_manager-compiled.js" dev="vendor/flow.js/flow-compiled.js, xf/attachment_manager.js" />

<xf:form
  action="{{ link('auction/categories/save', $data) }}"
  ajax="true"
  class="block"
  data-xf-init="attachment-manager"
  draft="{{ link('auction/categories/draft', $data) }}"
  data-preview-url="{{ link('classifieds/categories/listing-preview', $category) }}"
>
  <div class="block-container">
    <div class="block-body">	
		<xf:hiddenval name="attachment_time">{$attachment_time}</xf:hiddenval>
		<xf:prefixinputrow
				label="{{ phrase('title') }}"
				prefixes="{$prefixes}"
				type="thread"
				prefix-value="{{$auctionPrefixId}}"
				textbox-value="{{ $data ? $data.title : ''}}"
				textbox-class="input--title"
				placeholder="{$forum.thread_prompt}"
				rowtype="fullWidth noLabel"
				autofocus="autofocus"
				maxlength="{{ max_length('XF:Thread', 'title') }}"
				help-href="{{ link('forums/prefix-help', $forum) }}"
				required="true"
				finalhtml="{$titleFinalHtml}" />

      <div>
        <xf:editorrow
          name="message"
		  value="{{ $data ? $data.content : ''}}"
		  required="true"
          attachments="{{ $attachmentData ? $attachmentData.attachments : [] }}"
          rowtype="fullWidth noLabel mergePrev"
          label="{{ phrase('message') }}"
        />

        <xf:formrow>
        
            <xf:macro
              template="helper_attach_upload"
              name="upload_block"
			  required="true"
              arg-attachmentData="{$attachmentData}"
            />
         
        </xf:formrow>
      </div>
      
		
        <xf:formrow label="{{ phrase('auction_endDate') }}" hint="{{ phrase('auction_required') }}" explain="{{ phrase('auction_endDate_explain') }}">

		 <input
              name="ends_on"
			  type="date"
              class="date end"
              value="{{ $data.ends_on ? date($data.ends_on, 'Y-m-d') : date($xf.time, 'Y-m-d')}}"
              min="{{date($xf.time, 'Y-m-d')}}"
              required="true"
            />
        </xf:formrow>
		
		<xf:selectrow
        name="timezone"
        label="{{ phrase('auction_time_zone') }}"
        hint="{{ phrase('required') }}"
        required="true"
		explain="{{ phrase('auction_timeZone_explain') }}"
      >
        <xf:option value="0">{{ phrase('(none)') }}</xf:option>

        <xf:foreach loop="$timeZones" value="$val">
          <xf:option
            value="{$val}"
			selected="{{$val== $data.timezone}}"
            >{$val}</xf:option
          >
        </xf:foreach>
      </xf:selectrow>
		
      <xf:numberboxrow name="starting_bid" value="{{ $data ? $data.starting_bid : ''}}" min="0" explain="{{ phrase('auction_bid_explain') }}"
              required="true"
				
				label="{{ phrase('starting_bid') }}" />
		
		<xf:selectrow
        name="bid_increament"
        label="{{ phrase('bid_increments') }}"
        hint="{{ phrase('required') }}"
        required="true"
      >
        <xf:option value="0">{{ phrase('(none)') }}</xf:option>

        <xf:foreach loop="$bidIncreaments" value="$val">
          <xf:option
			selected="{{$val== $data.bid_increament}}"
            value="{$val}"
            >{$val}</xf:option
          >
        </xf:foreach>
      </xf:selectrow>
		<xf:checkboxrow label="{{ phrase('payment_methods') }}" name="payment_methods[]" hint="{{ phrase('auction_required') }}" 
						explain="{{ $paymentMethods.0 ? phrase('auction_payment_explain') : phrase('auction_payment_notAdded_explain')  }}"
						required="true">
			<xf:if is="$paymentMethods.0">
			
			<xf:foreach loop="$paymentMethods" value="$val">

         		 <xf:option
            		value="{$val}"
					checked="{{ in_array($val,$data.payment_methods) ? 'checked' : '' }}">
					 {$val}
				</xf:option
          >		

        </xf:foreach>
					</xf:if>
				
			</xf:checkboxrow>
		
		
		<xf:selectrow
        name="shipping_term"
        label="{{ phrase('shippingTerms') }}"
        hint="{{ phrase('required') }}"
		explain="{{ phrase('auction_shippingTerms_explain') }}"
        required="true"
      >
        <xf:option value="0">{{ phrase('(none)') }}</xf:option>

        <xf:foreach loop="$shipTerms" value="$val">
          <xf:option
			selected="{{$val.term_id == $data.shipping_term}}"
            value="{$val.term_id}"
            >{$val.shipping_term}</xf:option
          >
        </xf:foreach>
      </xf:selectrow>
		
		<xf:selectrow
        name="ships_via"
        label="{{ phrase('shippingVia') }}"
        hint="{{ phrase('required') }}"
		explain="{{ phrase('auction_shippingVia_explain') }}"
        required="true"
      >
        <xf:option value="0">{{ phrase('(none)') }}</xf:option>

        <xf:foreach loop="$shipsVia" value="$val">
          <xf:option
			selected="{{$val.via_id == $data.ships_via}}"
            value="{$val.via_id}"
            >{$val.ship_via}</xf:option
          >
        </xf:foreach>
      </xf:selectrow>
		
		<xf:checkboxrow label="{{ phrase('guidlines') }}" name="auction_guidelines" hint="{{ phrase('auction_required') }}" 
						explain="{{ phrase('auction_guidlines_explain') }}" required="true"
						>
				<xf:option value="1" checked="{{ $data.auction_guidelines ? 'checked' : '' }}" required="true">
					{{ phrase('guidlines_statement') }}
				</xf:option>
			
			</xf:checkboxrow>
		
		<xf:checkboxrow label="{{ phrase('bumpingRule') }}" name="bumping_rules" hint="{{ phrase('auction_required') }}" 
						explain="{{ phrase('auction_bumpingRule_explain') }}" required="true"
						>
				<xf:option value="1" checked="{{ $data.bumping_rules ? 'checked' : '' }}">
					{{ phrase('bumpingRule_statement') }}
				</xf:option>
			
			</xf:checkboxrow>
		
<xf:checkboxrow
      label="{{ phrase('auctionsOptions') }}"
				
>
  <xf:option
    name="watch_thread"
    value="1"
	checked="{{ $data.watch_thread ? 'checked' : '' }}"
    selected="$option.option_value.required"
    data-hide="true"
    label="{{ phrase('watchThisThread') }}"
  >
    <xf:checkbox>
      <xf:option
        name="receive_email"
		checked="{{ $data.receive_email ? 'checked' : '' }}"
        selected="$option.option_value.validate"
      >
        <xf:label
          >{{ phrase('receiveEmailNotification') }}</xf:label
        >
     
      </xf:option>
    </xf:checkbox>
  </xf:option>
</xf:checkboxrow>

    </div>
	  
	  <input type="hidden" name="category_id" value="{{$category.category_id}}" />

    <xf:submitrow icon="save" sticky="true" />
  </div>
</xf:form>]]></template>
  <template type="public" title="fs_auctionArchive" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:title page="{$page}">{{ phrase('z61_classifieds') }}</xf:title>
<script>
//For Mulitiple counter

// For All OtherAuctions
function DateTimeConverter(unixdatetime) {
  var wStart_time = new Date(unixdatetime * 1000).toLocaleString("en-GB", {
    hour12: false,
    // timeZone:'Europe/London',
    timeStyle: "short",
  });
  var humanDate = new Date(unixdatetime * 1000);
  var year = humanDate.getFullYear();

  var month = (humanDate.getMonth() + 1).toString().padStart(2, "0");
  var date = humanDate.getDate();

  var fulldate = year + "-" + month + "-" + date + " " + wStart_time + ":00";

  // FormatingDateEspecialyForIOS
  var tempCountTimmer = fulldate.split(/[- :]/);
  // Apply each element to the Date function
  var tempDateObject = new Date(
    tempCountTimmer[0],
    tempCountTimmer[1] - 1,
    tempCountTimmer[2],
    tempCountTimmer[3],
    tempCountTimmer[4],
    tempCountTimmer[5]
  );
  var CountDownDateTime = new Date(tempDateObject).getTime();

  return CountDownDateTime;
}

function timmerCounter(auction_id, start_datetime) {
	console.log(start_datetime);
	
  let auc_id = auction_id;
	console.log(document.getElementById("hours-auction-" + auc_id));
  let humanDateTime = DateTimeConverter(start_datetime);

  var countDownDate = new Date(humanDateTime).getTime();
  var counter = setInterval(function () {
    // Get today's date and time
    var now = new Date().getTime();
    // Find the distance between now and the count down date
    var timeDistance = countDownDate - now;
    document.getElementById("days-auction-" + auc_id).innerHTML =
      Math.floor(timeDistance / (1000 * 60 * 60 * 24)) + " D";
    document.getElementById("hours-auction-" + auc_id).innerHTML =
      Math.floor((timeDistance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)) +
      " H";
    document.getElementById("minutes-auction-" + auc_id).innerHTML =
      Math.floor((timeDistance % (1000 * 60 * 60)) / (1000 * 60)) + " M";
    document.getElementById("seconds-auction-" + auc_id).innerHTML =
      Math.floor((timeDistance % (1000 * 60)) / 1000) + " S";

    // If the count down is over, write some text
    if (timeDistance < 0) {
      clearInterval(counter);
    //  var url = window.location.origin + "/classified/auction/" + auc_id;
 //     document.getElementById("days-" + auc_id).innerHTML =
  //      "<a href=" + url + ">Join</a>";
  //    document.getElementById("hours-" + auc_id).classList.add("d-none");
   //   document.getElementById("minutes-" + auc_id).classList.add("d-none");
   //   document.getElementById("seconds-" + auc_id).classList.add("d-none");
    }
  }, 1000);
}

</script>


<xf:macro template="metadata_macros" name="canonical_url"
	arg-canonicalUrl="{{ link('canonical:classifieds', null, {'page': $page}) }}" />

<xf:page option="searchConstraints" value="{{ {
	phrase('z61_classifieds_listings'): {'search_type': 'classifieds_listing'}
} }}" />

<xf:pageaction if="$xf.visitor.canAddAuctions() && $categories is not empty">
	<xf:button href="{{ link('auction/add') }}" class="button--cta" icon="write" overlay="true">{{ phrase('fs_auction_categories_add_listing...') }}</xf:button>
</xf:pageaction>

<xf:if is="$canInlineMod">
	<xf:js src="xf/inline_mod.js" min="1" />
</xf:if>

<div class="block" data-xf-init="{{ $canInlineMod ? 'inline-mod' : '' }}" data-type="classifieds_listing" data-href="{{ link('inline-mod') }}">
	<div class="block-outer"><xf:trim>

		<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
			link="auction" params="{$filters}"
			wrapperclass="block-outer-main" />

		<xf:if contentcheck="true">
			<div class="block-outer-opposite">
				<div class="buttonGroup">
				<xf:contentcheck>
					
							<xf:macro template="fs_auction_inline_mod_macros" name="button" 
								  arg-tooltip="List View"
								  arg-linkParam="0"
								  arg-iconClass="list"
								  
								  />
					<xf:macro template="fs_auction_inline_mod_macros" name="button" 
								  arg-tooltip="Grid View"
								  arg-linkParam="1"
								  arg-iconClass="th"
								  
								  />
					
				</xf:contentcheck>
				</div>
			</div>
		</xf:if>

	</xf:trim></div>
	<div class="block-container">
		
		    <xf:macro name="search_menu" arg-conditions="{$conditions}" />

		<!--Listing View--->
		<div class="block-body">
		
			<xf:if is="$xf.visitor.layout_type == '0'">
				<xf:if is="$listings is not empty">
					<div class="structItemContainer">
						<xf:foreach loop="$listings" value="$listing">
							<xf:macro template="fs_auction_listing_list_macros" name="listing"
									  arg-listing="{$listing}" />
						</xf:foreach>
					</div>
					<xf:elseif is="$filters" />
					<div class="block-row">{{ phrase('z61_classifieds_there_no_listings_matching_your_filters') }}</div>
					<xf:else />
					<div class="block-row">{{ phrase('z61_classifieds_no_listings_have_been_created_yet') }}</div>
				</xf:if>
			<xf:elseif is="$xf.visitor.layout_type == '1'" />
				<xf:if is="$featuredListings is not empty">
					<div class="structItemContainer">
						<xf:foreach loop="$featuredListings" value="$listing">
							<xf:macro template="fs_auction_listing_list_macros" name="listing_grid"
									  arg-listing="{$listing}" />
						</xf:foreach>
					</div>
				</xf:if>
				
				<!--Grid View-->
				<xf:if is="$listings is not empty">
					<div class="structItemContainer">
						<xf:foreach loop="$listings" value="$listing">
							<xf:macro template="fs_auction_listing_list_macros" name="listing_grid"
									  arg-listing="{$listing}" />
						</xf:foreach>
					</div>
					<xf:elseif is="$filters" />
					<div class="block-row">{{ phrase('z61_classifieds_there_no_listings_matching_your_filters') }}</div>
					<xf:else />
					<div class="block-row">{{ phrase('z61_classifieds_no_listings_have_been_created_yet') }}</div>
				</xf:if>
			</xf:if>
			<div class="block-footer">
					  <span class="block-footer-counter"
						>{{ display_totals($totalReturn, $total) }}</span
					  >
				</div>
		</div>
	</div>

	<div class="block-outer block-outer--after">
		<xf:pagenav
			page="{$page}" perpage="{$perPage}" total="{$total}"
			link="auction" params="{$filters}"
			wrapperclass="block-outer-main" />
		<xf:showignored wrapperclass="block-outer-opposite" />
	</div>
</div>

<xf:page option="sideNavTitle">{{ phrase('categories') }}</xf:page>

<xf:sidenav>
	
	<xf:macro template="fs_auction_category_list_macros" name="simple_list_block"
		arg-categoryTree="{$categoryTree}" />
</xf:sidenav>

<xf:widgetpos id="classifieds_overview_sidenav" position="sidenav" />

<!-- Filter Bar Macro Start -->

<xf:macro name="search_menu" arg-conditions="!">
  <div class="block-filterBar">
    <div class="filterBar">
      <a
        class="filterBar-menuTrigger"
        data-xf-click="menu"
        role="button"
        tabindex="0"
        aria-expanded="false"
        aria-haspopup="true"
        >{{ phrase('filters') }}</a
      >
      <div
        class="menu menu--wide"
        data-menu="menu"
        aria-hidden="true"
        data-href="{{ link('auction/refine-search', null, $conditions)}}"
        data-load-target=".js-filterMenuBody"
      >
        <div class="menu-content">
          <h4 class="menu-header">{{ phrase('show_only:') }}</h4>
          <div class="js-filterMenuBody">
            <div class="menu-row">{{ phrase('loading...') }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</xf:macro>]]></template>
  <template type="public" title="fs_auction_categories_add_listing_chooser" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('z61_classifieds_add_listing_to...') }}</xf:title>

<xf:macro name="category_list" arg-children="{$categories}" />

<xf:macro name="category_list" arg-children="!" arg-depth="0">
	<xf:foreach loop="$children" value="$category">
		<div class="block-row block-row--clickable block-row--separated fauxBlockLink">
		<div class="contentRow contentRow--alignMiddle{{ $depth > 1 ? ' u-depth' . ($depth - 1) : '' }}">
			<div class="contentRow-main">
				<h2 class="contentRow-title">
					<a href="{{ link('auction/categories/add', $category) }}" class="fauxBlockLink-blockLink">
						{$category.title}
					</a>
				</h2>
				<xf:if is="$category.description">
					<div class="contentRow-minor contentRow-minor--singleLine">
						{$category.description|strip_tags}
					</div>
				</xf:if>
			</div>
			<div class="contentRow-suffix">
				<dl class="pairs pairs--rows pairs--rows--centered">
					<dt>{{ phrase('z61_classifieds_listings') }}</dt>
					<dd>{$category.bid_count|number_short}</dd>
				</dl>
			</div>
		</div>
	</div>
	</xf:foreach>
</xf:macro>]]></template>
  <template type="public" title="fs_auction_categories_overview" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:title page="{$page}">{{ phrase('fs_auction_category') }}</xf:title>


<script>
//For Mulitiple counter

// For All OtherAuctions
function DateTimeConverter(unixdatetime) {
  var wStart_time = new Date(unixdatetime * 1000).toLocaleString("en-GB", {
    hour12: false,
    // timeZone:'Europe/London',
    timeStyle: "short",
  });
  var humanDate = new Date(unixdatetime * 1000);
  var year = humanDate.getFullYear();

  var month = (humanDate.getMonth() + 1).toString().padStart(2, "0");
  var date = humanDate.getDate();

  var fulldate = year + "-" + month + "-" + date + " " + wStart_time + ":00";

  // FormatingDateEspecialyForIOS
  var tempCountTimmer = fulldate.split(/[- :]/);
  // Apply each element to the Date function
  var tempDateObject = new Date(
    tempCountTimmer[0],
    tempCountTimmer[1] - 1,
    tempCountTimmer[2],
    tempCountTimmer[3],
    tempCountTimmer[4],
    tempCountTimmer[5]
  );
  var CountDownDateTime = new Date(tempDateObject).getTime();

  return CountDownDateTime;
}

function timmerCounter(auction_id, start_datetime) {
  let auc_id = auction_id;
	console.log(document.getElementById("hours-auction-" + auc_id));
  let humanDateTime = DateTimeConverter(start_datetime);

  var countDownDate = new Date(humanDateTime).getTime();
  var counter = setInterval(function () {
    // Get today's date and time
    var now = new Date().getTime();
    // Find the distance between now and the count down date
    var timeDistance = countDownDate - now;
    document.getElementById("days-auction-" + auc_id).innerHTML =
      Math.floor(timeDistance / (1000  60  60 * 24)) + " D";
    document.getElementById("hours-auction-" + auc_id).innerHTML =
      Math.floor((timeDistance % (1000  60  60  24)) / (1000  60 * 60)) +
      " H";
    document.getElementById("minutes-auction-" + auc_id).innerHTML =
      Math.floor((timeDistance % (1000  60  60)) / (1000 * 60)) + " M";
    document.getElementById("seconds-auction-" + auc_id).innerHTML =
      Math.floor((timeDistance % (1000 * 60)) / 1000) + " S";

    // If the count down is over, write some text
    if (timeDistance < 0) {
      clearInterval(counter);
    //  var url = window.location.origin + "/classified/auction/" + auc_id;
 //     document.getElementById("days-" + auc_id).innerHTML =
  //      "<a href=" + url + ">Join</a>";
  //    document.getElementById("hours-" + auc_id).classList.add("d-none");
   //   document.getElementById("minutes-" + auc_id).classList.add("d-none");
   //   document.getElementById("seconds-" + auc_id).classList.add("d-none");
    }
  }, 1000);
}

</script>


<xf:page option="searchConstraints" value="{{ {
	phrase('z61_classifieds_listings'): {'search_type': 'classifieds_listing'}
} }}" />

<xf:pageaction if="$xf.visitor.canAddAuctions() && $categories is not empty">
	<xf:button href="{{ link('auction/add') }}" class="button--cta" icon="write" overlay="true">{{ phrase('fs_auction_categories_add_listing...') }}</xf:button>
</xf:pageaction>

<xf:form action="{{ link($prefix . '/toggle') }}" class="block" ajax="true">

  <div class="block-container">

  <xf:if is="$data is not empty">
	<div class="block-body">
		
		<xf:if is="$xf.options.fs_auction_list_layout == 'list_view'">
				<xf:if is="$listings is not empty">
					<div class="structItemContainer">
						<xf:foreach loop="$listings" value="$listing">
							<xf:macro template="fs_auction_listing_list_macros" name="listing"
									  arg-listing="{$listing}" />
						</xf:foreach>
					</div>
					<xf:elseif is="$filters" />
					<div class="block-row">{{ phrase('z61_classifieds_there_no_listings_matching_your_filters') }}</div>
					<xf:else />
					<div class="block-row">{{ phrase('z61_classifieds_no_listings_have_been_created_yet') }}</div>
				</xf:if>
				</xf:if>
			
			
			<xf:datalist data-xf-init="responsive-data-list">
					
				<xf:macro
					name="table_list"
					arg-data="{$data}"
				  />


				   </xf:datalist>
				
		    
		</div>
       <xf:else />
			<div class="block-body block-row">{{ phrase('no_items_have_been_created_yet') }}</div>
		
       </xf:if>
    
 </div>

</xf:form>
<xf:macro
  name="table_list"
  arg-data="{$data}"
>
  <xf:datarow rowtype="header">
    <xf:cell> {{ phrase('fs_cell_bidding') }} </xf:cell>
    <xf:cell class="dataList-cell--min"></xf:cell>
	 <xf:cell class="dataList-cell--min"></xf:cell>
  </xf:datarow>
  <xf:foreach loop="{$data}" value="$value">
    <xf:datarow>
		
          <xf:cell> {$value.title} </xf:cell>
		
	<xf:action href="{{ link('auction/categories/edit', $value) }}" >{{ phrase('edit') }}</xf:action>
      <xf:delete
        href="{{ link('auction/categories/delete', $value) }}"
        overlay="true"
      />
    </xf:datarow>
  </xf:foreach>
</xf:macro>


<xf:page option="sideNavTitle">{{ phrase('categories') }}</xf:page>
<xf:sidenav>
	<xf:macro template="fs_auction_category_list_macros" name="simple_list_block"
		arg-categoryTree="{$categoryTree}" />

</xf:sidenav>

<xf:widgetpos id="classifieds_overview_sidenav" position="sidenav" />]]></template>
  <template type="public" title="fs_auction_category_add_listing" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:title>{{ phrase('z61_classifieds_add_listing') }}</xf:title>

<xf:breadcrumb source="$category.getBreadcrumbs()" />

<xf:js src="https://maps.googleapis.com/maps/api/js?key={$xf.options.z61ClassifiedsGoogleApi}&libraries=places"></xf:js>
<xf:js src="z61/classifieds/geocomplete.js"></xf:js>
<xf:js>
	$("#location").geocomplete();  
</xf:js>

<xf:form action="{{ link('auction/categories/add', $category) }}" ajax="true" class="block"
	data-xf-init="attachment-manager"
	draft="{{ link('classifieds/categories/draft', $category) }}"
	data-preview-url="{{ link('auction/categories/listing-preview', $category) }}">

	<div class="block-container">
		<div class="block-body">
			<xf:macro template="z61_classifieds_listing_edit_macros" name="title"
			    arg-category="{$category}"
				arg-listing="{$listing}"
				arg-prefixes="{$prefixes}" />

			<div>
				<xf:editorrow name="message"
				  attachments="{{ $attachmentData ? $attachmentData.attachments : [] }}"
				  rowtype="fullWidth noLabel mergePrev"
				  label="{{ phrase('message') }}" />

				<xf:formrow>
					<xf:if is="$attachmentData">
						<xf:macro template="helper_attach_upload" name="upload_block"
						  arg-attachmentData="{$attachmentData}"
						  arg-forceHash="{$category.draft_listing.attachment_hash}" />
					</xf:if>
				</xf:formrow>
			</div>
	
		</div>


		<xf:submitrow icon="save" sticky="true" />
	</div>
</xf:form>]]></template>
  <template type="public" title="fs_auction_category_list_macros" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:macro name="simple_category_list"
	arg-selected="0"
	arg-pathToSelected="{{ [] }}"
	arg-children="!"
	arg-isActive="{{ false }}"
>
	<ol class="categoryList toggleTarget{{ $isActive ? ' is-active' : '' }}">

		<xf:foreach loop="$children" key="$id" value="$child">
			<xf:macro name="simple_category_list_item"
				arg-selected="{$selected}"
				arg-pathToSelected="{$pathToSelected}"
				arg-category="{$child.record}"
				arg-children="{$child}"
			/>
		
		</xf:foreach>
	</ol>
</xf:macro>

<xf:macro name="simple_category_list_item"
	arg-selected="!"
	arg-pathToSelected="{{ [] }}"
	arg-category="!"
	arg-children="!"
>
	<xf:set var="$isSelected" value="{{ $category.category_id == $selected }}" />
	<xf:set var="$hasPathToSelected" value="{$pathToSelected.{$category.category_id}}" />
	<xf:set var="$isActive" value="{{ $isSelected OR $hasPathToSelected AND $children is not empty }}" />

	<li class="categoryList-item">
		<div class="categoryList-itemRow">
			<xf:if is="$children is not empty">
				<a class="categoryList-toggler{{ $isActive ? ' is-active' : '' }}"
					data-xf-click="toggle" data-target="< :up :next"
					role="button" tabindex="0" aria-label="{{ phrase('toggle_expanded') }}"
				></a>
			<xf:else />
				<span class="categoryList-togglerSpacer"></span>
			</xf:if>
			<a href="{{ link('auction', $category) }}" class="categoryList-link{{ $isSelected ? ' is-selected' : '' }}">
				{$category.title}
			</a>
			<span class="categoryList-label">
				<span class="label label--subtle label--smallest">{$category.bid_count}</span>
			</span>
		</div>
		<xf:if is="$children">
		
			<xf:macro name="simple_category_list"
				arg-selected="{$selected}"
				arg-pathToSelected="{$pathToSelected}"
				arg-children="{$children}"
				arg-isActive="{$isActive}"
			/>
		</xf:if>
	</li>
</xf:macro>

<xf:macro name="simple_list_block" arg-categoryTree="!" arg-selected="{{ 0 }}">
	<div class="block">
		<div class="block-container">
			<h3 class="block-header">{{ phrase('categories') }}</h3>
			<div class="block-body">
				<xf:if is="$categoryTree.count()">
					<xf:macro name="simple_category_list"
						arg-children="{$categoryTree}"
						arg-isActive="{{ true }}"
						arg-selected="{$selected}"
						arg-pathToSelected="{{ $selected ? $categoryTree.getPathTo($selected) : [] }}" />
				<xf:else />
					<div class="block-row">{{ phrase('n_a') }}</div>
				</xf:if>
				
			</div>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="fs_auction_inline_mod_macros" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:macro name="button"
	arg-buttonClass="button--link"
	arg-linkParam="!"
	arg-iconClass="!"
	arg-tooltip="{{ null }}">
	<xf:button href="{{ link('auction/'.{$linkParam}.'/view-type') }}" class="button--link"
			   title="{{ $tooltip }}">
								<i class="fas fa-{{$iconClass}}"></i>
							</xf:button>
</xf:macro>]]></template>
  <template type="public" title="fs_auction_list_view.less" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[// ############################ Auction List View ######################

.structItem-cell.structItem-cell--listingMeta
{
	width: 250px;
}
.label--counter{
	color:black !important;
}
.auction-category{
	font-size: 12px;
    color: #8c8c8c;
}
.structItem-metaItem--ratingf
{
	font-size: @xf-fontSizeSmall;
}

@media (max-width: @xf-responsiveWide)
{
	.structItem-cell.structItem-cell--listingMeta
	{
		width: 190px;
		font-size: @xf-fontSizeSmaller;
	}
}

@media (max-width: @xf-responsiveMedium)
{
	.structItem-cell.structItem-cell--listingMeta
	{
		display: block;
		width: auto;
		float: left;
		padding-top: 0;
		padding-left: 0;
		padding-right: 0;
		color: @xf-textColorMuted;

		.pairs
		{
			display: inline;

			&:before,
			&:after
			{
				display: none;
			}

			> dt,
			> dd
			{
				display: inline;
				float: none;
				margin: 0;
			}
		}

		.structItem-metaItem
		{
			display: inline;
		}

		.ratingStarsRow
		{
			display: inline;

			.ratingStarsRow-text
			{
				display: none;
			}
		}

		.structItem-metaItem--lastUpdate > dt
		{
			display: none;
		}

		.structItem-metaItem + .structItem-metaItem:before
		{
			display: inline;
			content: "\20\00B7\20";
			color: @xf-textColorMuted;
		}
	}
}

// #################################### Auction LISTING BODY / VIEW ########################

.listingBody
{
	display: flex;
}

.listingBody-main
{
	flex: 1;
	min-width: 0;
	padding: @xf-blockPaddingV @xf-blockPaddingH;
}

.listingBody-sidebar
{
	flex: 0 0 auto;
	width: 250px;
	.xf-contentAltBase();
	border-left: @xf-borderSize solid @xf-borderColor;
	padding: @xf-blockPaddingV @xf-blockPaddingH;
	font-size: @xf-fontSizeSmall;

	> :first-child
	{
		margin-top: 0;
	}

	> :last-child
	{
		margin-bottom: 0;
	}
}

.listingBody-fields
{
	&.listingBody-fields--before
	{
		margin-bottom: @xf-paddingLarge;
		padding-bottom: @xf-paddingMedium;
		border-bottom: @xf-borderSize solid @xf-borderColorLight;
	}

	&.listingBody-fields--after
	{
		margin-top: @xf-paddingLarge;
		padding-top: @xf-paddingMedium;
		border-top: @xf-borderSize solid @xf-borderColorLight;
	}
}

.listingBody-attachments
{
	margin: .5em 0;
}

.listingBody .actionBar-set
{
	margin-top: @xf-messagePadding;
	font-size: @xf-fontSizeSmall;
}

.listingSidebarGroup
{
	margin-bottom: @xf-elementSpacer;

	&.listingSidebarGroup--buttons
	{
		> .button
		{
			display: block;
			margin: 5px 0;

			&:first-child
			{
				margin-top: 0;
			}

			&:last-child
			{
				margin-bottom: 0;
			}
		}
	}
}

.listingSidebarGroup-title
{
	margin: 0;
	padding: 0;

	font-size: @xf-fontSizeLarge;
	font-weight: @xf-fontWeightNormal;
	color: @xf-textColorFeature;
	padding-bottom: @xf-paddingMedium;

	.m-hiddenLinks();
}

.listingSidebarList
{
	.m-listPlain();

	> li
	{
		padding: @xf-paddingSmall 0;

		&:first-child
		{
			padding-top: 0;
		}

		&:last-child
		{
			padding-bottom: 0;
		}
	}
}

@media (max-width: @xf-responsiveWide)
{
	.listingBody
	{
		display: block;
	}

	.listingBody-sidebar
	{
		width: auto;
		border-left: none;
		border-top: @xf-borderSize solid @xf-borderColor;
	}

	.listingSidebarGroup
	{
		max-width: 600px;
		margin-left: auto;
		margin-right: auto;
	}
}


.structItem-cell.structItem-cell--icon.structItem-cell--iconExpanded.structItem-cell--iconListingCoverImage
{
	width: 110px;
}

.structItem-cell.structItem-cell--icon.structItem-cell--iconExpanded.structItem-cell--iconListingCoverImageGrid
{
	min-width: 300px !important;
}

.structItem-cell--iconListingCoverImage .structItem-iconContainer .avatar
{
	width: 96px;
	height: 96px;
	font-size: 57.6px;
	border-radius:0;
}]]></template>
  <template type="public" title="fs_auction_listing_grid_view.less" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[.structItem-metaItem--rating
{
	font-size: @xf-fontSizeSmall;
}

@listing-grid-gap: 10px;
//@listing-grid-width: 330px;
@listing-grid-width: 292px;
@listing-grid-thumb: 108px;

.auction-itemGrid-img{
	height: 167px;
	min-width:275px;
	max-width:275px;
	
}
.label--counter{
	color:black !important;
}
.auction-category{
	font-size: 12px;
    color: #8c8c8c;
}

@media(min-width:767.5){
	.auction-itemGrid-img{
	
	min-width:388px;
	max-width:388px;
	
}
}
@media (min-width: @xf-responsiveMedium)
{
	.auction-itemGrid-img{
		min-width:340px;
		max-width:340
		
	}
	@supports(display: grid)
	{
		.block[data-type="classifieds_listing"] .structItemContainer
		{
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(@listing-grid-width, 1fr));
			grid-gap: @listing-grid-gap;
			padding: @listing-grid-gap;
			background-color: @xf-contentAltBg;
		}

		.structItem.structItem--listing{
			display: grid;
		}
		
		.structItem--listing
		{
		    background-color: @xf-contentBg;
		    border-radius: 3px;
		    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
		    border-width: 0px;
		    display: grid;
		    grid-template-columns: @listing-grid-thumb 1fr;
		    grid-template-areas: 'icon text' 'stats stats';

			.structItem-cell--icon.structItem-cell--iconExpanded
			{
				width: auto;
				grid-area: icon;
			}

			.structItem-cell--main 
			{
				grid-area: text;
			}

			.structItem-cell--listingMeta
			{
				grid-area: stats;
				width: auto;
				display: flex;
				flex-wrap: wrap;
				align-items: center;
				justify-content: space-between;
			}

			.structItem-cell--iconExpanded .structItem-iconContainer .avatar 
			{
				width: 100%;
				height: auto;
				font-size: 56px;
			}

			.structItem-secondaryIcon
			{
				display: none;
			}

			.ratingStarsRow--justified
			{
				border-bottom: 1px solid @xf-borderColorFaint;
				margin-bottom: 4px;
				padding-bottom: 4px;
			}
		}
	}
}

@media (max-width: @xf-responsiveMedium)
{

	.structItem-cell.structItem-cell--listingMeta
	{
		display: block;
		width: auto;
		float: left;
		padding-top: 0;
		padding-left: 0;
		padding-right: 0;
		color: @xf-textColorMuted;

		.pairs
		{
			display: inline;

			&:before,
			&:after
			{
				display: none;
			}

			> dt,
			> dd
			{
				display: inline;
				float: none;
				margin: 0;
			}
		}

		.structItem-metaItem
		{
			display: inline;
		}

		.structItem-metaItem + .structItem-metaItem:before
		{
			display: inline;
			content: "\20\00B7\20";
			color: @xf-textColorMuted;
		}
	}
}

@media  (min-width:1024.5px){
	.auction-itemGrid-img{
	min-width:277px;
	max-width:277px;
		
	}
}]]></template>
  <template type="public" title="fs_auction_listing_list_macros" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:macro name="listing"
	arg-listing="!"
	arg-category="{{ null }}"
	arg-showWatched="{{ true }}"
	arg-allowInlineMod="{{ true }}"
	arg-chooseName=""
	arg-extraInfo="">
	<xf:css src="structured_list.less" />
	<xf:css src="fs_auction_list_view.less" />
	
	<div class="structItem structItem--listing js-inlineModContainer " data-author="{{ $listing.User.username ?: $listing.username }}">
		<div class="structItem-cell structItem-cell--icon structItem-cell--iconExpanded structItem-cell--iconListingCoverImage">
			<div class="structItem-iconContainer">
				<xf:if is="$listing.ends_on > $xf.time">
						<img src ="{{$listing.getImage() ? $listing.getImage() : base_url('styles/FS/AuctionPlugin/no_image.png',true)}}" onload="timmerCounter({{$listing.auction_id}},{{$listing.ends_on}})" style="height: 57px;">
				<xf:else />
						<img src ="{{$listing.getImage() ? $listing.getImage() : base_url('styles/FS/AuctionPlugin/no_image.png',true)}}" style="height: 57px;">
				</xf:if>
						
			</div>
		</div>
			
				
		<div class="structItem-cell structItem-cell--main" data-xf-init="touch-proxy">
		
			<div class="structItem-title">
			<span class="label label--blue label--smallest">
						{{ phrase_dynamic($listing.Prefix.getPhraseName()) }}
					</span>
				<a href="{{ link('auction/view-auction', $listing) }}" class="" data-tp-primary="on">{$listing.title}</a>
					<span class="structItem-listingDescription"> {{ $listing.starting_bid}} {{ phrase('dollorSymbol') }}</span>
			</div>
			<div class="structItem-minor">

					<ul class="structItem-parts">
						<li><xf:username user="$listing.User" defaultname="{$listing.User}" /></li>
						<li class="structItem-startDate"><xf:date time="{$listing.created_date}" /></li>
						
							<li>{{ snippet($listing.Category.title, 50, {'stripBbCode': true}) }}</li>
				
				</ul>
			</div>
			
			<!--	<div class="structItem-listingDescription">{{ $listing.starting_bid}}</div> -->
			
				<div class="auction-category">{{ snippet($listing.content, 100, {'stripBbCode': true}) }}</div>
			
		
		</div>
		<div class="structItem-cell structItem-cell--listingMeta">

			<dl class="pairs pairs--justified structItem-minor structItem-metaItem structItem-metaItem--type">
				<dt>{{ phrase('auctionEndsOn') }}</dt>
				<dd><xf:date time="{$listing.ends_on}" /></dd>
			</dl>
			<dl class="pairs pairs--justified structItem-minor structItem-metaItem structItem-metaItem--type">
				<dt>
					<xf:if is="$listing.ends_on < $xf.time">
						<li>
							<span class="label label--orange label--smallest">{{ phrase('auctionBidClosed') }} 
								<i class="structItem-status structItem-status--locked" 
								   aria-hidden="true" title="{{ phrase('locked')|for_attr }}"></i>
							<span class="u-srOnly">{{ phrase('auctionLocked') }}</span>
							</span>
						</li>
					<xf:else />
						<li>
							<div>
								
						<span class="label label--smallest label--primary label--counter" id="days-auction-{{$listing.auction_id}}">
							 {{phrase('D')}}
						</span>
						<span class="label label--smallest label--primary label--counter" id="hours-auction-{{$listing.auction_id}}">
							 {{phrase('H')}}
						</span>
							<span class="label label--smallest label--primary label--counter" id="minutes-auction-{{$listing.auction_id}}">
							{{phrase('M')}}
						</span>
							<span class="label label--smallest label--primary label--counter" id="seconds-auction-{{$listing.auction_id}}">
							 {{phrase('S')}}
						</span>
							</div>
						
					</li>
					</xf:if>
				</dt>
				<dd> </dd>
			</dl>
			
		</div>
	</div>
</xf:macro>
	
<xf:macro name="listing_simple" arg-listing="!" arg-withMeta="{{ true }}">
	<div class="contentRow">
		<div class="contentRow-figure">
			<xf:avatar user="$listing.User" size="xxs" />
		</div>
		<div class="contentRow-main contentRow-main--close">
			<a href="{{ link('classifieds', $listing) }}">{{ prefix('classifieds_listing', $listing) }}{$listing.title}</a>
			<div class="contentRow-lesser">{{ snippet($listing.content, 50, {'stripBbCode': true}) }}</div>
			<xf:if is="$withMeta">
				<div class="contentRow-minor contentRow-minor--smaller">
					<ul class="listInline listInline--bullet">
						<li>{{ $listing.User.username ?: $listing.username }}</li>
						<li>{{ phrase('created:') }} <xf:date time="{$listing.created_date}" /></li>
					</ul>
				</div>
			</xf:if>
		</div>
	</div>
</xf:macro>

<xf:macro name="listing_grid"
		  arg-listing="!"
		  arg-category="{{ null }}"
		  arg-showWatched="{{ true }}"
		  arg-allowInlineMod="{{ true }}"
		  arg-chooseName=""
		  arg-extraInfo="">

	<xf:css src="structured_list.less" />
	
	<xf:css src="fs_auctions.less" />
	
	<xf:css src="fs_auction_listing_grid_view.less" />

	
	<div class="structItem structItem--listing js-inlineModContainer js-listingListItem-{$listing.auction_id}" style="display: grid;
    justify-content: center;
}">
		<div class="structItem-cell structItem-cell--icon structItem-cell--iconExpanded structItem-cell--iconListingCoverImage">
			<div class="structItem-iconContainer" >
				<xf:if is="$listing.ends_on > $xf.time">
						<img src ="{{$listing.getImage() ? $listing.getImage() : base_url('styles/FS/AuctionPlugin/no_image.png',true)}}" loading="lazy" class="auction-itemGrid-img" onload="timmerCounter({{$listing.auction_id}},{{$listing.ends_on}})">
				<xf:else />
						<img src ="{{$listing.getImage() ? $listing.getImage() : base_url('styles/FS/AuctionPlugin/no_image.png',true)}}" class="auction-itemGrid-img" loading="lazy">
				</xf:if>
				
			</div>
		</div>
		
		<div class="structItem-cell structItem-cell--listingMeta">
			<div class="structItem-cell structItem-cell--main" >

			
				<div >
					<span class="auction-category">{{ snippet($listing.Category.title, 50, {'stripBbCode': true}) }}</span>
				</div>
				
				<div >
	
					<xf:if is="$listing.ends_on < $xf.time">
						
				<dl class="pairs pairs--justified structItem-minor structItem-metaItem structItem-metaItem--expiration">
					<dt>{{ phrase('auctionEndsOn') }}</dt>
					<dd>		
						<span class="label label--orange label--smallest">{{ phrase('auctionBidClosed') }} 
								<i class="structItem-status structItem-status--locked" 
								   aria-hidden="true" title="{{ phrase('locked')|for_attr }}"></i>
							<span class="u-srOnly">{{ phrase('auctionLocked') }}</span>
						</span>
						</dd>
				</dl>
									
					<xf:else />

						
				<dl class="pairs pairs--justified structItem-minor structItem-metaItem structItem-metaItem--expiration">
						<dt>{{ phrase('auctionEndsOn') }}</dt>
						<dd>			
							<span class="label label--smallest label--primary label--counter" id="days-auction-{{$listing.auction_id}}">
								 {{phrase('D')}}
							</span>
							<span class="label label--smallest label--primary label--counter" id="hours-auction-{{$listing.auction_id}}">
								{{phrase('H')}}
							</span>
							<span class="label label--smallest label--primary label--counter" id="minutes-auction-{{$listing.auction_id}}">
						 		{{phrase('M')}}
							</span>
							<span class="label label--smallest label--primary label--counter" id="seconds-auction-{{$listing.auction_id}}">
								{{phrase('S')}}
							</span>
						</dd>
				</dl>
	
			</xf:if>
				</div>

			<div class="structItem-title">
					<span class="label label--blue label--smallest">
						{{ phrase_dynamic($listing.Prefix.getPhraseName()) }}
							
					</span>
			<a href="{{ link('auction/view-auction', $listing) }}" class="" data-tp-primary="on">{{ snippet($listing.title, 33, {'stripBbCode': true}) }}</a>
			</div>
			<div class="structItem-minor">
					<ul class="structItem-parts">
						<li><xf:username user="$listing.User" defaultname="{$listing.User}" /></li>
						<li class="structItem-startDate"><xf:date time="{$listing.created_date}" /></li>
						<xf:if is="!$category OR $category.hasChildren()">
							<li>{{phrase('auctionEndsOn')}} . <xf:date time="{{ $listing.ends_on }}" /></li>
						</xf:if>
					</ul>
				
			</div>
				<div class="auction-category">{{ snippet($listing.content, 50, {'stripBbCode': true}) }}</div>

				<dl class="pairs pairs--justified structItem-minor structItem-metaItem structItem-metaItem--expiration">
					<dt style="color:black; font-size:17px">{{ phrase('AuctionStarting_bid') }}</dt>
					<dd style="color:black; font-size:17px">
							{$listing.starting_bid} {{phrase('dollorSymbol')}}
					</dd>
				</dl>
		
		</div>

		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="fs_auction_overview_macros" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:macro name="featured_carousel" arg-featuredListings="!" arg-viewAllLink="!">
	<xf:if is="$featuredListings is not empty">
		<xf:css src="carousel.less" />
		<xf:css src="lightslider.less" />

		<xf:js prod="xf/carousel-compiled.js" dev="vendor/lightslider/lightslider.min.js, xf/carousel.js" />

		<div class="carousel carousel--withFooter">
			<ul class="carousel-body carousel-body--show2" data-xf-init="carousel">
				<xf:foreach loop="$featuredListings" value="$listing">
					<li>
						<div class="carousel-item">
							<div class="contentRow">
								<div class="contentRow-figure">
										<xf:avatar user="$listing.User.username" size="m" notooltip="true" />
								</div>
								<div class="contentRow-main">
									<h4 class="contentRow-title"><a href="{{ link('classifieds', $listing) }}">{{ prefix('classifieds_listing', $listing) }}{$listing.title}</a></h4>
									<div class="contentRow-minor contentRow-minor--smaller">
										<ul class="listInline listInline--bullet">
											<li>{{ $listing.User.username ?: $listing.User.username }}</li>
											<li>{{ phrase('updated:') }} <xf:date time="{$listing.last_edit_date}" /></li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</li>
				</xf:foreach>
			</ul>
			<div class="carousel-footer">
				<a href="{$viewAllLink}">{{ phrase('classifieds_view_all_featured_listings') }}</a>
			</div>
		</div>
	</xf:if>
</xf:macro>

<xf:macro name="list_filter_bar" arg-filters="!" arg-baseLinkPath="!" arg-category="{{ null }}" arg-creatorFilter="{{ null }}" arg-conditionFilter="{{ null }}" arg-listingTypeFilter="{{ null }}">
	<xf:set var="$sortOrders" value="{{ {
		'last_update': phrase('z61_classifieds_last_updated'),
		'expiration_date': phrase('z61_classifieds_expiration_date'),
		'title': phrase('title'),
		'price': phrase('price')
	} }}" />

	<div class="block-filterBar">
		<div class="filterBar">
			<xf:if contentcheck="true">
				<ul class="filterBar-filters">
					<xf:contentcheck>
						<xf:if is="$filters.prefix_id">
							<li><a href="{{ link($baseLinkPath, $category, $filters|replace('prefix_id', null)) }}"
								class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('prefix:') }}</span>
								{{ prefix_title('classifieds_listing', $filters.prefix_id) }}</a></li>
						</xf:if>
						<xf:if is="$filters.condition_id">
						<li><a href="{{ link($baseLinkPath, $category, $filters|replace('condition_id', null)) }}"
							   class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
							<span class="filterBar-filterToggle-label">{{ phrase('z61_classifieds_condition:') }}</span>
							{{ $conditionFilter.title }}</a></li>
					</xf:if>
						
					<xf:if is="$xf.options.z61ClassifiedsGoogleApi && $filters.address AND $addressFilter">
						<li><a href="{{ link($baseLinkPath, $category, $filters|replace('address', null)) }}"
							   class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
							<span class="filterBar-filterToggle-label">{{ phrase('z61_classifieds_within:') }}</span>
							{{ phrase('z61_classifieds_x_y_of_z', 
								{'distance': $address.distance,
								 'unit': {$address.distance_unit|to_upper()},
								 'address': $address.formatted
								})
							}}</a></li>
					</xf:if>

					<xf:if is="$filters.listing_type_id">
						<li><a href="{{ link($baseLinkPath, $category, $filters|replace('listing_type_id', null)) }}"
							   class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
							<span class="filterBar-filterToggle-label">{{ phrase('type:') }}</span>
							{{ $listingTypeFilter.title }}</a></li>
					</xf:if>

						<xf:if is="$filters.creator_id AND $creatorFilter">
							<li><a href="{{ link($baseLinkPath, $category, $filters|replace('creator_id', null)) }}"
								class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('author:') }}</span>
								{$creatorFilter.username}</a></li>
						</xf:if>
						<xf:if is="$filters.order AND {$sortOrders.{$filters.order}}">
							<li><a href="{{ link($baseLinkPath, $category, $filters|replace({'order': null, 'direction': null})) }}"
								class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('return_to_default_order')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('sort_by:') }}</span>
								{$sortOrders.{$filters.order}}
								<i class="fa {{ $filters.direction == 'asc' ? 'fa-angle-up' : 'fa-angle-down' }}" aria-hidden="true"></i>
								<span class="u-srOnly"><xf:if is="$filters.direction == 'asc'">{{ phrase('ascending') }}<xf:else />{{ phrase('descending') }}</xf:if></span>
							</a></li>
						</xf:if>
					</xf:contentcheck>
				</ul>
			</xf:if>

			<a class="filterBar-menuTrigger" data-xf-click="menu" role="button" tabindex="0" aria-expanded="false" aria-haspopup="true">{{ phrase('filters') }}</a>
			<div class="menu menu--wide" data-menu="menu" aria-hidden="true"
				data-href="{{ link($baseLinkPath . '/filters', $category, $filters) }}"
				data-load-target=".js-filterMenuBody">
				<div class="menu-content">
					<h4 class="menu-header">{{ phrase('show_only:') }}</h4>
					<div class="js-filterMenuBody">
						<div class="menu-row">{{ phrase('loading...') }}</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="fs_auction_search_filter" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:form action="{{ link('auction') }}">
	<div class="menu-row">
    {{ phrase('fs_auction_username:') }}
    <div class="u-inputSpacer">
      	<xf:textbox name="fs_auction_username" value="{$conditions.fs_auction_username}" ac="single" />
    </div>
  </div>
	
	<div class="menu-row menu-row--separated">
			{{ phrase('fs_auction_status:') }}
			<div class="u-inputSpacer">
				<xf:select name="fs_auction_status" value="{$conditions.fs_auction_status}">
					<xf:option value="all" selected="true" label="{{ phrase('all') }}" />
					<xf:option value="1" label="{{ phrase('fs_auction_active') }}" />
					<xf:option value="0" label="{{ phrase('fs_auction_expired') }}" />
				</xf:select>
			</div>
		</div>
	
	<div class="menu-row menu-row--separated">
			{{ phrase('fs_auction_cat:') }}
			<div class="u-inputSpacer">
				<xf:select name="fs_auction_cat" value="{$conditions.fs_auction_cat}">
        <xf:option value="0" selected="true">{{ phrase('(none)') }}</xf:option>

        <xf:foreach loop="$categories" value="$cat">
          <xf:option
            value="{$cat.category_id}"
            >{$cat.title}</xf:option
          >
        </xf:foreach>
      </xf:select>
			</div>
		</div>
	
	
	
	  <div class="menu-footer">
    <span class="menu-footer-controls">
      <xf:button type="submit" class="button--primary"
        >{{ phrase('filter') }}</xf:button
      >
    </span>
  </div>

  <xf:hiddenval name="search">1</xf:hiddenval>
</xf:form>]]></template>
  <template type="public" title="fs_auction_view_single" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[<xf:title>{{$auction.title}}</xf:title>
<xf:pageaction if="$xf.visitor.user_id == $auction.User.user_id">
	<xf:button href="{{ link('auction/categories/delete', $auction) }}" overlay="true" class="button button--icon button--icon--edit" icon="delete">{{ phrase('delete') }}</xf:button>
	<xf:button href="{{ link('auction/categories/edit', $auction) }}" class="button button--icon button--icon--edit" icon="edit">{{ phrase('edit') }}</xf:button>
	<xf:button href="{{ link('auction/categories/bumping', $auction) }}" class="button button--icon button--icon--add" icon="add">{{ phrase('fs_auction_bumping') }}</xf:button>
</xf:pageaction>

<header class="message-attribution message-attribution--split" style="color: #8c8c8c; font-size: 12px; padding-bottom: 3px; border-bottom: 1px solid #c9c9c9;">
		<ul class="message-attribution-main listInline ">

			<li class="u-concealed">
					<xf:date time="{{$auction.created_date}}" itemprop="datePublished" />
			</li>
		</ul>
	</header>

		<div class="message-fields message-fields--after">
	
				<dl class="pairs pairs--columns pairs--fixedSmall pairs--customField" data-field="threadCustomField">
					<dt>{{ phrase('auction_endDate') }}</dt>
					
					<dd><xf:date time="{{$auction.ends_on}}" /></dd>
				</dl>
			
		</div>

		<div class="message-fields message-fields--after">
	
				<dl class="pairs pairs--columns pairs--fixedSmall pairs--customField" data-field="threadCustomField">
					<dt>{{ phrase('auction_time_zone') }}</dt>
					<dd>{{$auction.timezone}}</dd>
				</dl>
			
		</div>

		<div class="message-fields message-fields--after">
	
				<dl class="pairs pairs--columns pairs--fixedSmall pairs--customField" data-field="threadCustomField">
					<dt>{{ phrase('starting_bid') }}</dt>
					<dd>{{$auction.starting_bid}} {{phrase('dollorSymbol')}}</dd>
				</dl>
			
		</div>

		<div class="message-fields message-fields--after">
	
				<dl class="pairs pairs--columns pairs--fixedSmall pairs--customField" data-field="threadCustomField">
					<dt>{{ phrase('bid_increments') }}</dt>
					<dd>{{$auction.bid_increament}}</dd>
				</dl>
			
		</div>

		<div class="message-fields message-fields--after">
	
				<dl class="pairs pairs--columns pairs--fixedSmall pairs--customField" data-field="threadCustomField">
					<dt>{{ phrase('payment_methods') }}</dt>
					<dd>
					<xf:foreach loop="$auction.payment_methods" value="$val">
						<p style="margin:0px;">{$val}</p>
        			</xf:foreach>
					</dd>
				</dl>
			
		</div>

		<div class="message-fields message-fields--after">
	
				<dl class="pairs pairs--columns pairs--fixedSmall pairs--customField" data-field="threadCustomField">
					<dt>{{ phrase('shippingTerms') }}</dt>
					<dd>{{ $auction.ShipTerm.shipping_term }}</dd>
				</dl>
			
		</div>

		<div class="message-fields message-fields--after">
	
				<dl class="pairs pairs--columns pairs--fixedSmall pairs--customField" data-field="threadCustomField">
					<dt>{{ phrase('shippingVia') }}</dt>
					<dd>{{ $auction.ShipVia.ship_via }}</dd>
				</dl>
		</div>


<br><br>
<div>
	

				<img src="{{$auction.getImage() ? $auction.getImage() : base_url('styles/FS/AuctionPlugin/no_image.png',true)}}" alt="{$attachment.filename}"
					width=" " style="width:-webkit-fill-available; width:-moz-available;" height="" loading="lazy" />

</div>

<xf:if is="$auction.ends_on > $xf.time AND $xf.visitor.user_id != 0">
		<xf:if is="$xf.visitor.user_id != $auction.User.user_id">


			<xf:form
				  action="{{ link('classifieds/auction/save', $category) }}"
				  ajax="true"
				  class="block"
				  data-xf-init="attachment-manager"
				  draft="{{ link('classifieds/categories/draft', $category) }}"
				  data-preview-url="{{ link('classifieds/categories/listing-preview', $category) }}"
				>
				<xf:formrow name="{$inputName}[{$option.option_id}]" value="{$option.option_value.{$option.option_id}}"
					label="{$option.title}"
					hint="{$hintHtml}"
					explain="{$explainHtml}"
					html="{$listedHtml}">
	
			<!--bidDropDownRange value is  bid dropdown List items count-->
	
					<xf:set var="$bidDropDownRange" value="{{range(0,$dropDownListLimit)}}" />

					<div class="inputChoices">
						<div class="inputChoices-choice" style="padding-left:0;">			
						<div class="inputChoices-spacer">{{ phrase('BidCost') }}</div>
							<xf:radio name="bidPaymentType" value="{{ $option.option_value.imapAuth ? $option.option_value.imapAuth : 'none' }}">
								<xf:option value="0" label="{{ phrase('auctionDropdownBid') }}">
									<xf:dependent>
										<!--sum value is  bid increament+bidstart -->
										<xf:set var="$sum" value="{{$auction.bid_increament+$auction.starting_bid}}" />

										<xf:select>
											<xf:option value="0">{{ phrase('(none)') }}</xf:option>
												<xf:foreach loop="$bidDropDownRange" key="$key" value="$val">
													<xf:option value="{{$sum+$bidIncrementFromDb}}">{{$sum+$bidIncrementFromDb}}</xf:option>
													<xf:set var="$sum" value="{{$sum+$auction.bid_increament}}" />
												</xf:foreach>
										 </xf:select>
									</xf:dependent>
								</xf:option>

								<xf:option value="1" label="{{ phrase('auctionCustomBid') }}">
									<xf:dependent>
										 <xf:numberbox name="starting_bid" value="" min="0" 			
										label="{{ phrase('auctionCustomBid') }}" />
									</xf:dependent>

								</xf:option>
							</xf:radio>
					</div>
	
		</xf:formrow>

			<xf:submitrow icon="reply" sticky="true" />

		</xf:form>
	<xf:else />
		<p>{{phrase('auctionOwnerCanNotBid')}}</p>
	</xf:if>
	
<xf:else />
	{{phrase('biddingNotAllowed')}}
</xf:if>]]></template>
  <template type="public" title="fs_auctions.less" version_id="1000100" version_string="1.0.1 Alpha"><![CDATA[// ############################ Auction LISTING ######################

.structItem-cell.structItem-cell--listingMeta
{
	width: 270px;
}

.structItem-metaItem--rating
{
	font-size: @xf-fontSizeSmall;
}

@media (max-width: @xf-responsiveWide)
{
	.structItem-cell.structItem-cell--listingMeta
	{
		width: 190px;
		font-size: @xf-fontSizeSmaller;
	}
}

@media (max-width: @xf-responsiveMedium)
{
	.structItem-cell.structItem-cell--listingMeta
	{
		display: block;
		width: auto;
		float: left;
		padding-top: 0;
		padding-left: 0;
		padding-right: 0;
		color: @xf-textColorMuted;

		.pairs
		{
			display: inline;

			&:before,
			&:after
			{
				display: none;
			}

			> dt,
			> dd
			{
				display: inline;
				float: none;
				margin: 0;
			}
		}

		.structItem-metaItem
		{
			display: inline;
		}

		.ratingStarsRow
		{
			display: inline;

			.ratingStarsRow-text
			{
				display: none;
			}
		}

		.structItem-metaItem--lastUpdate > dt
		{
			display: none;
		}

		.structItem-metaItem + .structItem-metaItem:before
		{
			display: inline;
			content: "\20\00B7\20";
			color: @xf-textColorMuted;
		}
	}
}

// #################################### Auction LISTING BODY / VIEW ########################

.listingBody
{
	display: flex;
}

.listingBody-main
{
	flex: 1;
	min-width: 0;
	padding: @xf-blockPaddingV @xf-blockPaddingH;
}

.listingBody-sidebar
{
	flex: 0 0 auto;
	width: 250px;
	.xf-contentAltBase();
	border-left: @xf-borderSize solid @xf-borderColor;
	padding: @xf-blockPaddingV @xf-blockPaddingH;
	font-size: @xf-fontSizeSmall;

	> :first-child
	{
		margin-top: 0;
	}

	> :last-child
	{
		margin-bottom: 0;
	}
}

.listingBody-fields
{
	&.listingBody-fields--before
	{
		margin-bottom: @xf-paddingLarge;
		padding-bottom: @xf-paddingMedium;
		border-bottom: @xf-borderSize solid @xf-borderColorLight;
	}

	&.listingBody-fields--after
	{
		margin-top: @xf-paddingLarge;
		padding-top: @xf-paddingMedium;
		border-top: @xf-borderSize solid @xf-borderColorLight;
	}
}

.listingBody-attachments
{
	margin: .5em 0;
}

.listingBody .actionBar-set
{
	margin-top: @xf-messagePadding;
	font-size: @xf-fontSizeSmall;
}

.listingSidebarGroup
{
	margin-bottom: @xf-elementSpacer;

	&.listingSidebarGroup--buttons
	{
		> .button
		{
			display: block;
			margin: 5px 0;

			&:first-child
			{
				margin-top: 0;
			}

			&:last-child
			{
				margin-bottom: 0;
			}
		}
	}
}

.listingSidebarGroup-title
{
	margin: 0;
	padding: 0;

	font-size: @xf-fontSizeLarge;
	font-weight: @xf-fontWeightNormal;
	color: @xf-textColorFeature;
	padding-bottom: @xf-paddingMedium;

	.m-hiddenLinks();
}

.listingSidebarList
{
	.m-listPlain();

	> li
	{
		padding: @xf-paddingSmall 0;

		&:first-child
		{
			padding-top: 0;
		}

		&:last-child
		{
			padding-bottom: 0;
		}
	}
}

@media (max-width: @xf-responsiveWide)
{
	.listingBody
	{
		display: block;
	}

	.listingBody-sidebar
	{
		width: auto;
		border-left: none;
		border-top: @xf-borderSize solid @xf-borderColor;
	}

	.listingSidebarGroup
	{
		max-width: 600px;
		margin-left: auto;
		margin-right: auto;
	}
}


.structItem-cell.structItem-cell--icon.structItem-cell--iconExpanded.structItem-cell--iconListingCoverImage
{
	width: 292px;
}

.structItem-cell--iconListingCoverImage .structItem-iconContainer .avatar
{
	width: 96px;
	height: 96px;
	font-size: 57.6px;
	border-radius:0;
}]]></template>
</templates>
